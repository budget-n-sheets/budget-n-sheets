<script>
  $(document).ready(function() {
    $("#b-Reset").click(resetProtection);
    $("#b-Reinstall").click(reinstallTriggers);
  });

  function resetProtection() {
    this.disabled = true;
    $("#footer_response").empty();

    google.script.run.withSuccessHandler(function(r, o) {
        showStatus("Reseted protection");
        o.disabled = false;
      })
      .withFailureHandler(showError)
      .withUserObject(this)
      .askResetProtection();
  }

  function reinstallTriggers() {
    this.disabled = true;
    $("#footer_response").empty();

    google.script.run.withSuccessHandler(function(r, o) {
        if (!r) showStatus("Reinstalled triggers");
        o.disabled = false;
      })
      .withFailureHandler(showError)
      .withUserObject(this)
      .askReinstallTriggersUi();
  }
</script>
